<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>A Bitwise Solution to Power Set - Hi Andy!</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  
  
  <link rel="shortcut icon" href="../assets/img/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="../assets/img/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="../assets/img/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="../assets/img/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../assets/img/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../assets/img/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="../assets/img/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="../assets/img/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="../assets/img/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="../assets/img/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#00a300">
  <meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png">
  <meta name="msapplication-config" content="/assets/img/browserconfig.xml">

  <link rel="stylesheet" type="text/css" href="../assets/css/uno.css?v=f1639705f9" />

  <link rel="canonical" href="http://andysponring.com/a-bitwise-solution-to-power-set/" />
    
    <meta property="og:site_name" content="Hi Andy!" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="A Bitwise Solution to Power Set" />
    <meta property="og:description" content="The power set of a set S, according to Wolfram MathWorld, is the set of all subsets of S. The formal definition requires that the empty set as well as S itself be included in the power set. As a..." />
    <meta property="og:url" content="http://andysponring.com/a-bitwise-solution-to-power-set/" />
    <meta property="article:published_time" content="2015-05-18T04:51:48.232Z" />
    <meta property="article:modified_time" content="2015-05-18T20:19:40.744Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="A Bitwise Solution to Power Set" />
    <meta name="twitter:description" content="The power set of a set S, according to Wolfram MathWorld, is the set of all subsets of S. The formal definition requires that the empty set as well as S itself be included in the power set. As a..." />
    <meta name="twitter:url" content="http://andysponring.com/a-bitwise-solution-to-power-set/" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Hi Andy!",
    "author": {
        "@type": "Person",
        "name": "Andy Sponring",
        "url": "http://andysponring.com/author/andy",
        "sameAs": null
    },
    "headline": "A Bitwise Solution to Power Set",
    "url": "http://andysponring.com/a-bitwise-solution-to-power-set/",
    "datePublished": "2015-05-18T04:51:48.232Z",
    "dateModified": "2015-05-18T20:19:40.744Z",
    "description": "The power set of a set S, according to Wolfram MathWorld, is the set of all subsets of S. The formal definition requires that the empty set as well as S itself be included in the power set. As a..."
}
    </script>

    <meta name="generator" content="Ghost 0.5" />
    <link rel="alternate" type="application/rss+xml" title="Hi Andy!" href="http://andysponring.com/rss/" />

</head>
<body class="post-template">

  <section id="cover-button" class="collapsed">
    <a><i class="icon icon-list"></i></a>
  </section>

  <aside class="cover">
  
    <div class="cover container">
      <div class="profile">
        <a id="avatar-link" title="Open Andy's blog!" href="http://andysponring.com/index.html#open">
          <img src="../content/images/2015/04/AndyJarrie-256-lowres-copy.jpg" alt="Hi Andy! avatar" class="profile avatar hvr-buzz-out" />
          <h1>Hi Andy!</h1>
          <h3 id="profile-resume">Software Engineer</h3>
        </a>
  
        <hr class="divider long" />
        <p>Software Engineer &amp; Product Manager</p>
        <hr class="divider short" />
        <div class="navigation">
          <div class="profile contact">
            <nav class="navigation left">
              <ul class="links">
                <li class="links item">
                  <a href="../index.html#open" class="link-item" title="link to Hi Andy! blog" id="blog-button">Blog</a>
                  <a href="../about" class="link-item" title="" id="tags-button">About</a>
                  <a href="mailto:asponring@gmail.com?subject=Hi Andy!" class="link-item" title="" id="contact-button">Contact</a>
                </li>
              </ul>
            </nav>
            
            <nav class="navigation right">
              <ul class="social expanded">
            
            
              <!-- Github -->
              <li class="social item hvr-grow-rotate">
                <a target="blank" href="https://github.com/asponring" title="Andy on Github">
                  <i class='icon icon-social-github'></i>
                  <span class="label">Github</span>
                </a>
              </li>
            
              <!-- Linkedin -->
              <li class="social item hvr-grow-rotate">
                <a target="blank" href="https://www.linkedin.com/in/asponring" title="Andy on LinkedIn">
                  <i class='icon icon-social-linkedin'></i>
                  <span class="label">Linkedin</span>
                </a>
              </li>
            
              <!-- Facebook -->
              <li class="social item hvr-grow-rotate">
                <a target="blank" href="https://www.facebook.com/asponring" title="Andy on Facebook">
                  <i class='icon icon-social-facebook'></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            
              <!-- RSS -->
              <li class="social item hvr-grow-rotate">
                <a href="../rss/index.html" title="Subscribe to RSS">
                  <i class='icon icon-rss'></i>
                  <span class="label">RSS</span>
                </a>
              </li>
            
              </ul>
            </nav>
            <section class="icon icon-search" id="search-container">
              <hr class="divider short" />
              <form id="search-form">
                <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
              </form>
            </section>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <article class="main">
    <section id="search-results"></section>
    <section class="content">
      

  <article class="post">
    <header>
      <a id="back-button" class="btn small square" href="javascript:history.back()">« Back</a>
      <div class="post meta">
        <time datetime="17 May 2015">17 May 2015</time>
        <span class="post tags"></span>
        <span class="post reading-time"> – <span></span> read.</span>
      </div>

      <a href="https://twitter.com/intent/tweet?url=http://andysponring.com/a-bitwise-solution-to-power-set/;text=A Bitwise Solution to Power Set » " alt="Tweet 'A Bitwise Solution to Power Set'" target="_blank">
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">A Bitwise Solution to Power Set.</h1>
      </a>
    </header>

    <section class="post">
      <p>The power set of a set S, <a href="http://mathworld.wolfram.com/PowerSet.html">according to Wolfram MathWorld</a>, is the set of all subsets of S. The formal definition requires that the empty set as well as S itself be included in the power set.</p>

<p>As a part of an exercise the other week, I wrote an algorithm for finding power set, where the input was actually a string and the output was an array of strings containing subsets of the characters in the input string (so the input string "abc" would yield [ '' , 'a', 'b', 'c', 'ab', 'ac', 'bc', 'abc' ]). While my solution followed a common pattern for finding subset, it wasn't until I learned a little more about set theory that I discovered a completely different approach that is quite interesting. I wanted to share this approach and a modified algorithm in this blog post.</p>

<p>The first and more straightforward algorithm that I employed looks like this (pseudocode):</p>

<pre><code>Given set S as input  
Let C be a collection which will contain our power set  
Add the empty set to C  
For element x in S  
    For set y in C
        Add the set y + x to C
</code></pre>

<p>While this algo works perfectly fine, the solution I'm about to describe using binary numbers may prove more pedagogically useful as it gives a deeper understanding of power set.</p>

<p>Let's say the string "abc" is our input. We can think of "abc" as a number in base 2, where each digit is set to 1.</p>

<pre><code>a b c  
1 1 1  
</code></pre>

<p>When we create a subset of "abc" what we are really doing is switching one or more digits of that number to 0. Switching a digit to 0 is akin to removing that element from the set. Here's a couple examples:</p>

<pre><code>a b c  
1 0 1  
=&gt; "ac"

a b c  
0 1 1  
=&gt; "bc"
</code></pre>

<p>So the act of producing a power set can be thought of counting from 0 until 2^n - 1, where n is the number of elements in the input set. Why is this? Firstly, imagine that we are counting in binary. Starting at 0, no elements of set S will be included. In other words, this is the empty set.</p>

<pre><code>a b c  
0 0 0  
=&gt; ""
</code></pre>

<p>As we count upwards, we will naturally go through all the combinations of zeroes and ones until all digits equal 1, translating into the original set itself. For a set of 3, the final binary number will be "111", or 2^n - 1. At this point, counting the empty set, we have 8 elements, or 2^n. </p>

<p>It so happens that, by definition, the power set of set S with n elements is exactly 2^n (hence the term "<em>power</em> set").</p>

<p>I decided to start from scratch and write an algorithm that uses bitwise operations to calculate power set. I chose to write it in Java since Java's bitwise operations are close to the hardware and faster than in, say, <a href="http://archive.oreilly.com/pub/a/javascript/excerpts/javascript-good-parts/bad-parts.html">JavaScript</a>.</p>

<pre><code>import java.util.Arrays;  
import java.lang.Math;

public class PowerSet  
{
   public static void main(String[] args)
   {
      System.out.println(Arrays.toString(findPowerSet("abc")));
      System.out.println(Arrays.toString(findPowerSet("power")));
   }

   public static String[] findPowerSet(String input)
   {
      // Assume the input has no duplicate characters for simplicity
      int inputLength = input.length();
      int powerSetSize = (int)Math.pow(2, inputLength);
      String[] result = new String[powerSetSize];

      for (int k = 0; k &lt; powerSetSize; k++) 
      {
         String set = "";
         int binaryDigits = k;
         for (int j = 0; j &lt; inputLength; j++)
         {
            if (binaryDigits % 2 == 1)
               set += input.charAt(j);
            binaryDigits &gt;&gt;= 1;
         }
         result[k] = set;
      }

      return result;
   }
}

/* console output:
 * [, a, b, ab, c, ac, bc, abc]
 * [, p, o, po, w, pw, ow, pow, e, pe, oe, poe, we, pwe, owe, powe, r, pr, or, por, wr, pwr, owr, powr, er, per, oer, poer, wer, pwer, ower, power]
 */
</code></pre>

<p>As you can see, the results are exactly as expected.</p>

<p>One drawback of this new algorithm is its slower run time compared with the original. Whereas my first algo had a time complexity of O(2^n), the new algorithm has O(n * 2^n). The difference comes from how many times we iterate. In the first algo we only needed as many iterations as there were elements in the power set. In the second implementation, I have an outer loop counting from 0 to 2^n, and an inner loop within that going from 0 to n (or O(n) time complexity). The inner loop is necessary to find out each binary digit within the current iteration count. This latter operation is done using the right bitshift operator (">>"), which if you don't know about, <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html">you should totally read up on</a> because it's awesome. Basically, the bitshift allows me to go through each digit of a binary number and test if that digit is 0 or 1 (using modulo 2).</p>

<p>By the way, in case you were wondering (and I was), O(n * 2^n) does NOT reduce to O(2^n). If you're interested in an explanation, check out <a href="http://stackoverflow.com/questions/21764861/are-2n-and-n2n-in-the-same-time-complexity">this Stack Overflow question</a>.</p>
    </section>

  </article>

  <section class="post-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
    // required: replace example with your forum shortname
    var disqus_shortname = 'andysponring';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>


      <footer>
        <span class="copyright">
          &copy; 2015. All rights reserved. Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> theme.
        </span>
      </footer>
    </section>
  </article>

  <script src="../public/jquery.js?v=f1639705f9"></script>
  <script type="text/javascript" src="../assets/js/uno.js?v=f1639705f9"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-34372837-2', 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  </script>
</body>
</html>
